# 形智自动驾驶系统 (SonicAutoDrive)

<p align="center">
    <img src="docs/imgs/image_sonic_autodrive.gif" width="700"/>
</p>
<p align="center">
    <a href="https://www.apache.org/licenses/LICENSE-2.0.html">
        <img src="https://img.shields.io/badge/License-Apache%202.0-blue.svg" alt="Apache License 2.0">
    </a>
</p>

## 简介

形智自动驾驶系统 (SonicAutoDrive) 是一套先进的自动驾驶解决方案，集成了完整的感知网络和规划网络，并提出了首个、完整的感知规划一体化自动驾驶系统。该系统基于标准引领、产业赋能，旨在提供一套高效、安全和可靠的L4级自动驾驶系统。并通过软硬结合的开源架构，促进整个自动驾驶生态发展。

## [硬件架构](docs/1_HW_参考硬件方案.md)

硬件平台作为自动驾驶系统的基础，对系统的稳定性和性能至关重要。

形智自动驾驶系统 (SonicAutoDrive) 提供了两类硬件平台方案：一种是成熟的硬件平台，适合快速开发和部署；另一种是自行搭建的硬件平台，适合灵活定制和深入研究。

针对自行搭建的硬件平台，给出详细的传感器、硬件选型方案；硬件网络连接、集成方案以及传感器时间同步方案，具体见[SonicAutoDrive参考硬件方案](docs/1_HW_参考硬件方案.md)。

## 软件架构

### 操作系统与通信中间件

形智自动驾驶系统 (SonicAutoDrive)基于Ubuntu 20.04开发，通信中间件采用[ROS(Robot Operating System)](https://www.ros.org/)。选择ROS作为形智自动驾驶系统的通信中间件，基于以下几点显著优势：

- **模块化设计**：独立节点易于开发和集成，提高开发效率和可维护性。
- **社区支持**：活跃的开发者社区提供丰富的资源和协作环境。
- **标准化接口**：简化不同组件间通信，降低系统集成复杂性。
- **跨平台兼容性**：支持多操作系统，便于跨平台开发和部署。
- **模拟和测试工具**：如Gazebo，降低实车测试风险和成本。
- **硬件抽象**：简化各种传感器和执行器的硬件集成过程。
- **可扩展性**：架构支持功能和模块的不断扩展，适应技术发展。
- **开源**：自由使用、修改和分发，降低成本，促进技术共享。

ROS以其灵活性、社区支持、标准化通信、开源特性，成为L4自动驾驶系统通信中间件的理想选择，加速开发同时确保系统可靠性和未来可扩展性。

### 重地图L4自动驾驶系统

<p align="center">
    <br>
    <img src="docs/imgs/image_hdmap.png" width="700"/>
    <br>
</p>

重地图即高精地图自动驾驶系统，采用高精地图作为输入，通过感知、预测、规划、控制等功能模块进行L4自动驾驶。该系统作为可靠性高、可解释性强的解决方案，是量产车辆的主要选择。

### 形智自动驾驶系统 感知规划一体化自动驾驶系统

<p align="center">
    <br>
    <img src="docs/imgs/image_2nets.png" width="800"/>
    <br>
</p>

形智自动驾驶感知规划一体化自动驾驶系统采用感知网+规划网，将自动驾驶任务简化。
- **感知网**: 基于多源传感器融合感知架构，进行多任务BEV感知，构建BEV数字化世界模型。
- **规划网**: 基于深度强化学习，在复杂的交通环境中做出智能决策，直接输出可行使轨迹。

#### 感知网

<p align="center">
    <br>
    <img src="docs/imgs/image_perception.png" width="800"/>
    <br>
</p>

形智自动驾驶(SonicAutoDrive)系统中，感知网采用多源传感器多任务(MSMT-BEV: multi-source multi-task BEV)融合感知架构，进行多任务BEV感知，构建BEV数字化世界模型。主要包括以下优势：

- **融合感知**: 多传感器BEV特征融合感知，感知精度高，可持续扩展
- **泛化性强**: 显式内外参变换进行坐标系统一，泛化性强
- **BEV视角**: 俯视图视角可避免目标遮挡，直观自然且融合友好

#### 规划网

- **激光雷达 (LiDAR)**: 提供高精度的三维环境数据。
- **摄像头**: 实时捕捉道路和交通信息，辅助图像识别。
- **毫米波雷达**: 检测远距离物体，提升系统的反应速度。
- **GPS和IMU**: 提供精确的定位和姿态信息。

### 规划网络

<p align="center">
    <br>
    <img src="docs/imgs/image_planning.png" width="800"/>
    <br>
</p>

形智自动驾驶(SonicAutoDrive)系统中，规划网采用深度强化学习，接收BEV感知结果，在复杂的交通环境中做出智能决策，直接输出车辆可行驶轨迹，用于车辆控制。包括以下优势：

- **多车博弈**: 引入显式Agent预测，提升复杂场景多车博弈能力
- **长时规划**: 远期目标意图预测，可实现8s+、100m+的轨迹规划
- **强扩展性**: 分层Transformer结构易于根据训练数据量的提升而扩展，适合数据驱动

### 安装与使用

请参考[详细文档](docs/SW_软件安装.md)获取安装和使用说明。

## 许可

形智自动驾驶系统 (SonicAutoDrive) 采用Apache 2.0许可证。详细信息请参阅[LICENSE](LICENSE)。

---

版权所有 (c) 2024 形智自动驾驶团队
